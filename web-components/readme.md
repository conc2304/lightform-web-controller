

# Lightform Web Component Library

This project is the home to Lightform's Web Component Library and Component Design System built using the [Stencil.JS](https://stenciljs.com/) web component toolchain from the Ionic team. 

[Stencil CLI](https://stenciljs.com/docs/cli) was used to generate the scaffolding for this project.

## Getting Started

### TL;DR

Checkout the target branch, 

```bash
cd web-components
```

To install dependencies: 

```bash
npm install
```

To build for development: 

```bash
npm start
```

This will start the dev server and launch your target build in the browser.

### Prerequisites

You need git to clone the repository. If you don't have it already, you can get git from
[http://git-scm.com/](http://git-scm.com/). You can check by "git --version" at the command line.

We also use a number of node.js tools to initialize, build and test. You must have node.js and
its package manager (npm) installed.  You can get them from [http://nodejs.org/](http://nodejs.org/).

Optional: You have installed your SSH keys on GitLab.

### Clone web repository

Clone the repository using [git][git]:

```Shell
git clone git@gitlab.lumenous3d.com:cloud/web.git  (preferred)
or
git clone https://gitlab.lumenous3d.com/cloud/web.git
```
CD into "web". The Shell use will use the SSH keys installed on GitLab to authenticate. The second will require you to authenticate each time you interact.

To start building a new web component using Stencil, clone this repo to a new directory:

## One-time Setup
### Install Dependencies

We have two kinds of dependencies in this project: tools and Stencil compiler code.  The tools help us manage and test the components.


- Project setup:  cd in to 'web-components'

To install project dependencies, run: 

```bash
npm install
```

To compile and serve to dev server, run: 

```bash
npm start
```

To build the component for production, run:

```bash
npm run build
```

To run the unit and e2e tests for the components, run:

```bash
npm test
```

To run only unit tests, run:

```bash
npm test.unit
```

To run only end to end tests, run:

```bash
npm test.e2e
```


## Naming Components

When creating new component tags, use the Lightform prefix `lf`. 
For example: (`<lf-color-picker>`)


## Source Directory Layout

* _package.json_   - Node package files installed with `npm install`.
* _stencil.config.ts_   - Stencil Configuration file (config docs)[https://stenciljs.com/docs/config]
* _tsconfig.json_   - Typescript project config specifies the root files and the compiler options required to compile the project. 
* **/src**          - All of the component source files for the component library.
    * _components.d.ts_      - Public type declarations automatically generated by Stencil for components
    * _index.html_           - Public html file served 
    * _index.ts_             - Entry file for project that exports component declarations from _components.d.ts_
* **/_common**      - Common or globally used component files like SASS files
* **/assets**       - Project assets
        * **/fonts**        - Font files
        * **/images**       - Image files
        * **/vendor**       - External libraries and files that don't have a CDN or NPM package
* **/components**   - All component library project files in their individual component directories
* **/utils**        - Shared component utilities 


## Using this component

There are three strategies we recommend for using web components built with Stencil.

The first step for all three of these strategies is to [publish to NPM](https://docs.npmjs.com/getting-started/publishing-npm-packages).

### Script tag

- Put a script tag similar to this `<script src='https://unpkg.com/my-component@0.0.1/dist/mycomponent.js'></script>` in the head of your index.html
- Then you can use the element anywhere in your template, JSX, html etc

### Node Modules
- Run `npm install my-component --save`
- Put a script tag similar to this `<script src='node_modules/my-component/dist/mycomponent.js'></script>` in the head of your index.html
- Then you can use the element anywhere in your template, JSX, html etc

### In a stencil-starter app
- Run `npm install my-component --save`
- Add an import to the npm packages `import my-component;`
- Then you can use the element anywhere in your template, JSX, html etc
