import { r as registerInstance, f as createEvent, h } from './index-999ee693.js';
import { c as createCommonjsModule, a as commonjsGlobal, g as getDefaultExportFromCjs, K as Key_enum } from './Key.enum-0deca141.js';
import { a as LayoutName, K as KeyboardCharMap, L as LfKeyboardBlurDirection } from './lf-keyboard-blur-direction.enum-b83d4bc4.js';

var build = createCommonjsModule(function (module, exports) {
/*!
 * 
 *   simple-keyboard v2.30.18
 *   https://github.com/hodgef/simple-keyboard
 * 
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(t,e){"object"==='object'&&"object"==='object'?module.exports=e():"function"===typeof undefined&&undefined.amd?undefined("SimpleKeyboard",[],e):"object"==='object'?exports.SimpleKeyboard=e():t.SimpleKeyboard=e();}(commonjsGlobal,(function(){return function(t){var e={};function __webpack_require__(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n});},__webpack_require__.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)__webpack_require__.d(n,o,function(e){return t[e]}.bind(null,o));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=0)}([function(t,e,n){t.exports=n(2);},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(1);function _createForOfIteratorHelper(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,F=function(){};return {s:F,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return {s:function(){n=t[Symbol.iterator]();},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t;},f:function(){try{s||null==n.return||n.return();}finally{if(a)throw i}}}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _typeof(t){return (_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o);}}var o=function(){function Utilities(t){var e=t.getOptions,n=t.getCaretPosition,o=t.getCaretPositionEnd,i=t.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Utilities),this.getOptions=e,this.getCaretPosition=n,this.getCaretPositionEnd=o,this.dispatch=i,Utilities.bindMethods(Utilities,this);}var t,e,n;return t=Utilities,n=[{key:"bindMethods",value:function(t,e){var n,o=_createForOfIteratorHelper(Object.getOwnPropertyNames(t.prototype));try{for(o.s();!(n=o.n()).done;){var i=n.value;"constructor"===i||"bindMethods"===i||(e[i]=e[i].bind(e));}}catch(s){o.e(s);}finally{o.f();}}}],(e=[{key:"getButtonClass",value:function(t){var e=t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn",n=t.replace("{","").replace("}",""),o="";return "standardBtn"!==e&&(o=" hg-button-".concat(n)),"hg-".concat(e).concat(o)}},{key:"getDefaultDiplay",value:function(){return {"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"\u2191","{arrowleft}":"\u2190","{arrowdown}":"\u2193","{arrowright}":"\u2192","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return (e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.getOptions(),a=[n,o,i],r=e;return ("{bksp}"===t||"{backspace}"===t)&&r.length>0?r=this.removeAt.apply(this,[r].concat(a)):"{space}"===t?r=this.addStringAt.apply(this,[r," "].concat(a)):"{tab}"!==t||"boolean"===typeof s.tabCharOnTab&&!1===s.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!s.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?r=this.addStringAt.apply(this,[r,t[t.length-2]].concat(a)):"{numpaddivide}"===t?r=this.addStringAt.apply(this,[r,"/"].concat(a)):"{numpadmultiply}"===t?r=this.addStringAt.apply(this,[r,"*"].concat(a)):"{numpadsubtract}"===t?r=this.addStringAt.apply(this,[r,"-"].concat(a)):"{numpadadd}"===t?r=this.addStringAt.apply(this,[r,"+"].concat(a)):"{numpaddecimal}"===t?r=this.addStringAt.apply(this,[r,"."].concat(a)):"{"===t||"}"===t?r=this.addStringAt.apply(this,[r,t].concat(a)):t.includes("{")||t.includes("}")||(r=this.addStringAt.apply(this,[r,t].concat(a))):r=this.addStringAt.apply(this,[r,"\n"].concat(a)):r=this.addStringAt.apply(this,[r,"\t"].concat(a)),r}},{key:"updateCaretPos",value:function(t,e){var n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.setCaretPosition(n);}));}},{key:"updateCaretPosAction",value:function(t,e){var n=this.getOptions(),o=this.getCaretPosition();return e?o>0&&(o-=t):o+=t,n.debug&&console.log("Caret at:",o,"(".concat(this.keyboardDOMClass,")")),o}},{key:"addStringAt",value:function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o||0===o?(n=[t.slice(0,o),e,t.slice(i)].join(""),this.isMaxLengthReached()||s&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===o)return t;if(n===o){var s=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(s)?(e=t.substr(0,n-2)+t.substr(n),i&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),i&&this.updateCaretPos(1,!0)):t.slice(-2).match(s)?(e=t.slice(0,-2),i&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),i&&this.updateCaretPos(1,!0));}else e=t.slice(0,n)+t.slice(o),i&&this.dispatch((function(t){t.setCaretPosition(n);}));return e}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),o=n.maxLength,i=t[n.inputName],s=e.length-1>=o;if(e.length<=i.length)return !1;if(Number.isInteger(o))return n.debug&&console.log("maxLength (num) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===_typeof(o)){var a=i.length===o[n.inputName];return n.debug&&console.log("maxLength (obj) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return "ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return window.PointerEvent}},{key:"camelCase",value:function(t){return !!t&&t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t}))}}])&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Utilities}();function PhysicalKeyboard_defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o);}}var i=function(){function PhysicalKeyboard(t){var e=t.dispatch,n=t.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,PhysicalKeyboard),this.dispatch=e,this.getOptions=n,o.bindMethods(PhysicalKeyboard,this);}var t,e,n;return t=PhysicalKeyboard,(e=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var o=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}"));o&&(o.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#dadce4",o.style.color=e.physicalKeyboardHighlightTextColor||"black");}));}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var n=t.getButtonElement(e)||t.getButtonElement("{".concat(e,"}"));n&&n.removeAttribute&&n.removeAttribute("style");}));}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e;return ((e=t.code.includes("Numpad")||t.code.includes("Shift")||t.code.includes("Space")||t.code.includes("Backspace")||t.code.includes("Control")||t.code.includes("Alt")||t.code.includes("Meta")?t.code:t.key)!==e.toUpperCase()||"F"===t.code[0]&&Number.isInteger(Number(t.code[1]))&&t.code.length<=3)&&(e=e.toLowerCase()),e}}])&&PhysicalKeyboard_defineProperties(t.prototype,e),n&&PhysicalKeyboard_defineProperties(t,n),PhysicalKeyboard}();function _toConsumableArray(t){return function(t){if(Array.isArray(t))return Keyboard_arrayLikeToArray(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Keyboard_arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Keyboard_arrayLikeToArray(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Keyboard_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Keyboard_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Keyboard_defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o);}}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function SimpleKeyboard(){var t=this;Keyboard_classCallCheck(this,SimpleKeyboard),_defineProperty(this,"handleParams",(function(t){var e,n,o;if("string"===typeof t[0])e=t[0].split(".").join(""),n=document.querySelector(".".concat(e)),o=t[1];else if(t[0]instanceof HTMLDivElement){if(!t[0].className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");e=t[0].className.split(" ")[0],n=t[0],o=t[1];}else e="simple-keyboard",n=document.querySelector(".".concat(e)),o=t[0];return {keyboardDOMClass:e,keyboardDOM:n,options:o}})),_defineProperty(this,"getOptions",(function(){return t.options})),_defineProperty(this,"getCaretPosition",(function(){return t.caretPosition})),_defineProperty(this,"getCaretPositionEnd",(function(){return t.caretPositionEnd})),_defineProperty(this,"registerModule",(function(e,n){t.modules[e]||(t.modules[e]={}),n(t.modules[e]);})),_defineProperty(this,"getKeyboardClassString",(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=[t.keyboardDOMClass].concat(n).filter((function(t){return !!t}));return i.join(" ")}));for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];var a=this.handleParams(n),r=a.keyboardDOMClass,u=a.keyboardDOM,c=a.options,l=void 0===c?{}:c;if(this.utilities=new o({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=u,this.options=l,this.options.layoutName=this.options.layoutName||"default",this.options.theme=this.options.theme||"hg-theme-default",this.options.inputName=this.options.inputName||"default",this.options.preventMouseDownDefault=this.options.preventMouseDownDefault||!1,this.keyboardPluginClasses="",o.bindMethods(SimpleKeyboard,this),this.input={},this.input[this.options.inputName]="",this.keyboardDOMClass=r,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new i({dispatch:this.dispatch,getOptions:this.getOptions}),!this.keyboardDOM)throw console.warn('".'.concat(r,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules();}var t,e,n;return t=SimpleKeyboard,(e=[{key:"setCaretPosition",value:function(t,e){this.caretPosition=t,this.caretPositionEnd=e||t;}},{key:"handleButtonClicked",value:function(t){var e=this.options.debug;if("{//}"===t)return !1;"function"===typeof this.options.onKeyPress&&this.options.onKeyPress(t),this.input[this.options.inputName]||(this.input[this.options.inputName]="");var n=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition,this.caretPositionEnd);if(this.input[this.options.inputName]!==n&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(n))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,n))return !1;this.input[this.options.inputName]=this.utilities.getUpdatedInput(t,this.input[this.options.inputName],this.caretPosition,this.caretPositionEnd,!0),e&&console.log("Input changed:",this.input),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")")),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"===typeof this.options.onChange&&this.options.onChange(this.input[this.options.inputName]),"function"===typeof this.options.onChangeAll&&this.options.onChangeAll(this.input);}e&&console.log("Key pressed:",t);}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e&&e.target.classList.add(this.activeButtonClass),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.isMouseHold=!0,this.options.disableButtonHold||(this.holdTimeout=setTimeout((function(){(n.isMouseHold&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t,e)),clearTimeout(n.holdTimeout);}),500));}},{key:"handleButtonMouseUp",value:function(t){var e=this;this.dispatch((function(t){t.recurseButtons((function(t){t.classList.remove(e.activeButtonClass);})),t.isMouseHold=!1,t.holdInteractionTimeout&&clearTimeout(t.holdInteractionTimeout);})),t&&"function"===typeof this.options.onKeyReleased&&this.options.onKeyReleased(t);}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault();}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=setTimeout((function(){e.isMouseHold?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout);}),100);}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd);}));}},{key:"clearInput",value:function(t){t=t||this.options.inputName,this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs();}},{key:"getInput",value:function(t){return t=t||this.options.inputName,this.options.syncInstanceInputs&&this.syncInstanceInputs(),this.input[t]}},{key:"setInput",value:function(t,e){e=e||this.options.inputName,this.input[e]=t,this.options.syncInstanceInputs&&this.syncInstanceInputs();}},{key:"replaceInput",value:function(t){this.input=t;}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(t),this.render());}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(t){t.inputName&&(this.options.debug&&console.log("inputName changed. caretPosition reset."),this.setCaretPosition(null));}},{key:"clear",value:function(){this.keyboardDOM.innerHTML="",this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={};}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e);}))}},{key:"addButtonTheme",value:function(t,e){var n=this;if(!e||!t)return !1;t.split(" ").forEach((function(o){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var i=!1;n.options.buttonTheme.map((function(t){if(t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(o)||(i=!0,n.push(o),t.buttons=n.join(" "));}return t})),i||n.options.buttonTheme.push({class:e,buttons:t});}));})),this.render();}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],this.render(),!1;t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){n.options.buttonTheme.map((function(o,i){if(e&&e.includes(o.class)||!e){var s=o.buttons.split(" ").filter((function(e){return e!==t}));s.length?o.buttons=s.join(" "):(n.options.buttonTheme.splice(i,1),o=null);}return o}));})),this.render());}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName])&&t){var o=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(o?"passed":"did not pass!")),o}return !0}},{key:"setEventListeners",value:function(){var t=this.options,e=t.useTouchEvents,n=t.useMouseEvents;!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.onkeyup=this.handleKeyUp,document.onkeydown=this.handleKeyDown,!this.utilities.pointerEventsSupported()||e||n?e?(document.ontouchstart=this.handlePointerDown,document.ontouchend=this.handlePointerUp,document.ontouchcancel=this.handlePointerUp,this.keyboardDOM.ontouchstart=this.handleKeyboardContainerMouseDown):e||(document.onmousedown=this.handlePointerDown,document.onmouseup=this.handlePointerUp,this.keyboardDOM.onmousedown=this.handleKeyboardContainerMouseDown):(document.onpointerdown=this.handlePointerDown,document.onpointerup=this.handlePointerUp,document.onpointercancel=this.handlePointerUp,this.keyboardDOM.onpointerdown=this.handleKeyboardContainerMouseDown));}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t);}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t);}},{key:"handlePointerDown",value:function(t){this.caretEventHandler(t);}},{key:"handlePointerUp",value:function(t){this.handleButtonMouseUp(),this.caretEventHandler(t);}},{key:"caretEventHandler",value:function(t){var e;this.options.disableCaretPositioning?this.setCaretPosition(null):(t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(n){var o=t.target===n.keyboardDOM||t.target&&n.keyboardDOM.contains(t.target);"textarea"===e||"input"===e?(n.setCaretPosition(t.target.selectionStart,t.target.selectionEnd),n.options.debug&&console.log("Caret at: ",n.getCaretPosition(),n.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(n.keyboardDOMClass,")"))):o||n.setCaretPosition(null);})));}},{key:"recurseButtons",value:function(t){var e=this;if(!t)return !1;Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}));}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var deleteButton=function(t){t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null;};this.recurseButtons(deleteButton),deleteButton=null,this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.clear(),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],Object.keys(window.SimpleKeyboardInstances).length?this.options.debug&&console.log("Destroy: Instances remaining! Document listeners not removed",window.SimpleKeyboardInstances):(document.onkeydown=null,document.onkeyup=null,document.onpointerdown=null,document.onpointerup=null,document.onmousedown=null,document.onmouseup=null,document.ontouchstart=null,document.ontouchend=null,document.ontouchcancel=null,this.options.debug&&console.log("Destroy: No instances remaining. Document listeners removed",window.SimpleKeyboardInstances)),this.initialized=!1;}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e.class&&"string"===typeof e.class&&e.buttons&&"string"===typeof e.buttons){var o=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(_toConsumableArray(n),_toConsumableArray(o)));}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e);})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"===typeof n.attribute&&n.value&&"string"===typeof n.value&&n.buttons&&"string"===typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n);}));}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow();}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1};}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."));}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"===typeof this.options.onInit&&this.options.onInit();}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"===typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.");}},{key:"beforeRender",value:function(){"function"===typeof this.options.beforeRender&&this.options.beforeRender();}},{key:"onRender",value:function(){"function"===typeof this.options.onRender&&this.options.onRender();}},{key:"onModulesLoaded",value:function(){"function"===typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this);}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=new e;if(n.constructor.name&&"Function"!==n.constructor.name){var o="module-".concat(t.utilities.camelCase(n.constructor.name));t.keyboardPluginClasses=t.keyboardPluginClasses+" ".concat(o);}n.init(t);})),this.keyboardPluginClasses=this.keyboardPluginClasses+" modules-loaded",this.render(),this.onModulesLoaded());}},{key:"getModuleProp",value:function(t,e){return !!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,o){var i=this,s=Array.from(t.children),a=0;return s.length&&n.forEach((function(n,r){var u=o[r];if(!u||!(u>n))return !1;var c=n-a,l=u-a,h=document.createElement("div");h.className+="hg-button-container";var d="".concat(i.options.layoutName,"-r").concat(e,"c").concat(r);h.setAttribute("data-skUID",d);var p=s.splice(c,l-c+1);a=l-c,p.forEach((function(t){return h.appendChild(t)})),s.splice(c,0,h),t.innerHTML="",s.forEach((function(e){return t.appendChild(e)})),i.options.debug&&console.log("rowDOMContainer",p,c,l,a+1);})),t}},{key:"render",value:function(){var t=this;this.clear(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},o=this.options.useTouchEvents||!1,i=o?"hg-touch-events":"",s=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,i),n[this.options.layoutName].forEach((function(e,n){var i=e.split(" "),r=document.createElement("div");r.className+="hg-row";var u=[],c=[];i.forEach((function(e,i){var l,h=!a&&"string"===typeof e&&e.length>1&&0===e.indexOf("["),d=!a&&"string"===typeof e&&e.length>1&&e.indexOf("]")===e.length-1;h&&(u.push(i),e=e.replace(/\[/g,"")),d&&(c.push(i),e=e.replace(/\]/g,""));var p=t.utilities.getButtonClass(e),f=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),y=t.options.useButtonTag?"button":"div",b=document.createElement(y);b.className+="hg-button ".concat(p),(l=b.classList).add.apply(l,_toConsumableArray(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){b.setAttribute(t,e);})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||o||s?o?(b.ontouchstart=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n);},b.ontouchend=function(){t.handleButtonMouseUp(e);},b.ontouchcancel=function(){t.handleButtonMouseUp(e);}):(b.onclick=function(){t.handleButtonClicked(e);},b.onmousedown=function(n){t.handleButtonMouseDown(e,n);},b.onmouseup=function(){t.handleButtonMouseUp(e);}):(b.onpointerdown=function(n){t.handleButtonClicked(e),t.handleButtonMouseDown(e,n);},b.onpointerup=function(){t.handleButtonMouseUp(e);},b.onpointercancel=function(){t.handleButtonMouseUp(e);}),b.setAttribute("data-skBtn",e);var m="".concat(t.options.layoutName,"-r").concat(n,"b").concat(i);b.setAttribute("data-skBtnUID",m);var g=document.createElement("span");g.innerHTML=f,b.appendChild(g),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(b),r.appendChild(b);})),r=t.parseRowDOMContainers(r,n,u,c),t.keyboardDOM.appendChild(r);})),this.onRender(),this.initialized||(this.initialized=!0,this.onInit());}}])&&Keyboard_defineProperties(t.prototype,e),n&&Keyboard_defineProperties(t,n),SimpleKeyboard}();e.default=s;}])}));

});

const Keyboard = /*@__PURE__*/getDefaultExportFromCjs(build);

var build$1 = createCommonjsModule(function (module, exports) {
/*!
 * 
 *   simple-keyboard-key-navigation v2.3.8
 *   https://github.com/hodgef/simple-keyboard-key-navigation
 * 
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 * 
 */
!function(e,t){"object"=='object'&&"object"=='object'?module.exports=t():"function"==typeof undefined&&undefined.amd?undefined([],t):"object"=='object'?exports.SimpleKeyboardKeyNavigation=t():e.SimpleKeyboardKeyNavigation=t();}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r});},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),i=r.sources.map((function(e){return "/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return [n].concat(i).concat([o]).join("\n")}var a,u,c;return [n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0);}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c));}},t};},function(e,t,n){"use strict";n.r(t);n(2);function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return "Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;}(this,"init",(function(e){e.registerModule("keyNavigation",(function(t){t.initMarkerPos=[0,0],t.lastMarkerPos=t.initMarkerPos,t.initVars=function(n){t.markerPosition={row:0,button:0},t.layoutName=n||"",t.step=e.options.keyNavigationStep||1;},t.initMarker=function(){var e=t.getButtonAt.apply(t,r(t.lastMarkerPos))?t.lastMarkerPos:t.initMarkerPos;t.setMarker.apply(t,r(e));},t.getButtonAt=function(n,r){var o=t.layoutName;return e.keyboardDOM.querySelector('.hg-button[data-skbtnuid="'.concat(o,"-r").concat(n,"b").concat(r,'"]'))},t.setMarker=function(n,r){var o=t.getButtonAt(n,r);return o?(t.markedBtn&&t.markedBtn.classList.remove("hg-keyMarker"),o.classList.add("hg-keyMarker"),t.markedBtn=o,t.lastMarkerPos=[n,r],t.markerPosition={row:n,button:r},!0):(e.options.debug&&console.log("SimpleKeyboardKeyNavigation: Button default-r".concat(n,"b").concat(r," doesnt exist!")),!1)},t.up=function(){var e=t.markerPosition.row-t.step,n=t.markerPosition.button;if(!t.getButtonAt(e,n))for(var r=n;0<=r;r--)if(t.getButtonAt(e,r)){n=r;break}t.setMarker(e,n);},t.down=function(){var e=t.markerPosition.row+t.step,n=t.markerPosition.button;if(!t.getButtonAt(e,n))for(var r=n;0<=r;r--)if(t.getButtonAt(e,r)){n=r;break}t.setMarker(e,n);},t.right=function(){var e=t.markerPosition.row,n=t.markerPosition.button+t.step;t.setMarker(e,n);},t.left=function(){var e=t.markerPosition.row,n=t.markerPosition.button-t.step;t.setMarker(e,n);},t.press=function(){t.markedBtn&&(t.markedBtn.onpointerdown?(t.markedBtn.onpointerdown(),t.markedBtn.onpointerup()):t.markedBtn.onclick?t.markedBtn.onclick():t.markedBtn.ontouchdown&&(t.markedBtn.ontouchdown(),t.markedBtn.ontouchup()));},t.init=function(){t.initVars(e.options.layoutName),t.initMarker();},t.fn={},t.fn.onRender=e.onRender,e.onRender=function(){e.options.layoutName!==t.layoutName&&e.options.enableKeyNavigation&&(e.options.debug&&console.log("SimpleKeyboardKeyNavigation: Refreshed"),t.init()),t.fn.onRender();},e.options.enableKeyNavigation&&t.init();}));}));};},function(e,t,n){var r=n(3),o=n(4);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a;},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head;}catch(e){n=null;}e[t]=n;}return e[t]}}(),a=[];function u(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],s=n[c]||0,f="".concat(c," ").concat(s);n[c]=s+1;var l=u(f),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==l?(a[l].references++,a[l].updater(d)):a.push({identifier:f,updater:y(d,t),references:1}),r.push(f);}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o);}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e]);})),"function"==typeof e.insert)e.insert(t);else {var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t);}return t}var f,l=(f=[],function(e,t){return f[e]=t,f.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else {var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i);}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else {for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r));}}var m=null,b=0;function y(e,t){var n,r,o;if(t.singleton){var i=b++;n=m||(m=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0);}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return !1;e.parentNode.removeChild(e);}(n);};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t);}else o();}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--;}for(var i=c(e,t),s=0;s<n.length;s++){var f=u(n[s]);0===a[f].references&&(a[f].updater(),a.splice(f,1));}n=i;}}};},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r)()(!0);o.push([e.i,".simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n","",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;;EAEE,6BAA6B;EAC7B,kBAAkB;AACpB",sourcesContent:[".simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n"],sourceRoot:""}]),t.default=o;}])}));

});

const keyNavigation = /*@__PURE__*/getDefaultExportFromCjs(build$1);

const lfKeyboardComponentCss = "html.ios{--ion-default-font:-apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"Roboto\", sans-serif}html.md{--ion-default-font:\"Roboto\", \"Helvetica Neue\", sans-serif}html{--ion-font-family:var(--ion-default-font)}body{background:var(--ion-background-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card .ion-page>ion-header>ion-toolbar:first-of-type{padding-top:0px}html.ios ion-modal .ion-page{border-radius:inherit}.ion-color-primary{--ion-color-base:var(--ion-color-primary, #3880ff) !important;--ion-color-base-rgb:var(--ion-color-primary-rgb, 56, 128, 255) !important;--ion-color-contrast:var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-primary-shade, #3171e0) !important;--ion-color-tint:var(--ion-color-primary-tint, #4c8dff) !important}.ion-color-secondary{--ion-color-base:var(--ion-color-secondary, #3dc2ff) !important;--ion-color-base-rgb:var(--ion-color-secondary-rgb, 61, 194, 255) !important;--ion-color-contrast:var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-secondary-shade, #36abe0) !important;--ion-color-tint:var(--ion-color-secondary-tint, #50c8ff) !important}.ion-color-tertiary{--ion-color-base:var(--ion-color-tertiary, #5260ff) !important;--ion-color-base-rgb:var(--ion-color-tertiary-rgb, 82, 96, 255) !important;--ion-color-contrast:var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-tertiary-shade, #4854e0) !important;--ion-color-tint:var(--ion-color-tertiary-tint, #6370ff) !important}.ion-color-success{--ion-color-base:var(--ion-color-success, #2dd36f) !important;--ion-color-base-rgb:var(--ion-color-success-rgb, 45, 211, 111) !important;--ion-color-contrast:var(--ion-color-success-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-success-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-success-shade, #28ba62) !important;--ion-color-tint:var(--ion-color-success-tint, #42d77d) !important}.ion-color-warning{--ion-color-base:var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb:var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast:var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb:var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade:var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint:var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base:var(--ion-color-danger, #eb445a) !important;--ion-color-base-rgb:var(--ion-color-danger-rgb, 235, 68, 90) !important;--ion-color-contrast:var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-danger-shade, #cf3c4f) !important;--ion-color-tint:var(--ion-color-danger-tint, #ed576b) !important}.ion-color-light{--ion-color-base:var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb:var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast:var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb:var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade:var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint:var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base:var(--ion-color-medium, #92949c) !important;--ion-color-base-rgb:var(--ion-color-medium-rgb, 146, 148, 156) !important;--ion-color-contrast:var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-medium-shade, #808289) !important;--ion-color-tint:var(--ion-color-medium-tint, #9d9fa6) !important}.ion-color-dark{--ion-color-base:var(--ion-color-dark, #222428) !important;--ion-color-base-rgb:var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast:var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb:var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade:var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint:var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;overflow:hidden;z-index:0}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden,[hidden]{display:none !important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding:20px}@supports (padding-top: 20px){html{--ion-safe-area-top:var(--ion-statusbar-padding)}}@supports (padding-top: constant(safe-area-inset-top)){html{--ion-safe-area-top:constant(safe-area-inset-top);--ion-safe-area-bottom:constant(safe-area-inset-bottom);--ion-safe-area-left:constant(safe-area-inset-left);--ion-safe-area-right:constant(safe-area-inset-right)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top:env(safe-area-inset-top);--ion-safe-area-bottom:env(safe-area-inset-bottom);--ion-safe-area-left:env(safe-area-inset-left);--ion-safe-area-right:env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translate3d(0,  0,  0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0, 0, 0, 0.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0, 0, 0, 0.08)}.md .menu-content-reveal{box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}.md .menu-content-push{box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:bold}img{max-width:100%;border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{padding:0;box-sizing:border-box}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;text-size-adjust:100%}html:not(.hydrated) body{display:none}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}a{background-color:transparent;color:var(--ion-color-primary, #3880ff)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:26px}h2{margin-top:18px;font-size:24px}h3{font-size:22px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}.ion-no-padding{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.ion-padding{--padding-start:var(--ion-padding, 16px);--padding-end:var(--ion-padding, 16px);--padding-top:var(--ion-padding, 16px);--padding-bottom:var(--ion-padding, 16px);padding-left:var(--ion-padding, 16px);padding-right:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-padding{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}}.ion-padding-top{--padding-top:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start:var(--ion-padding, 16px);padding-left:var(--ion-padding, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-padding-start{padding-left:unset;-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}}.ion-padding-end{--padding-end:var(--ion-padding, 16px);padding-right:var(--ion-padding, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-padding-end{padding-right:unset;-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}}.ion-padding-bottom{--padding-bottom:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top:var(--ion-padding, 16px);--padding-bottom:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start:var(--ion-padding, 16px);--padding-end:var(--ion-padding, 16px);padding-left:var(--ion-padding, 16px);padding-right:var(--ion-padding, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-padding-horizontal{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}}.ion-no-margin{--margin-start:0;--margin-end:0;--margin-top:0;--margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.ion-margin{--margin-start:var(--ion-margin, 16px);--margin-end:var(--ion-margin, 16px);--margin-top:var(--ion-margin, 16px);--margin-bottom:var(--ion-margin, 16px);margin-left:var(--ion-margin, 16px);margin-right:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-margin{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}}.ion-margin-top{--margin-top:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start:var(--ion-margin, 16px);margin-left:var(--ion-margin, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-margin-start{margin-left:unset;-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}}.ion-margin-end{--margin-end:var(--ion-margin, 16px);margin-right:var(--ion-margin, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-margin-end{margin-right:unset;-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}}.ion-margin-bottom{--margin-bottom:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top:var(--ion-margin, 16px);--margin-bottom:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start:var(--ion-margin, 16px);--margin-end:var(--ion-margin, 16px);margin-left:var(--ion-margin, 16px);margin-right:var(--ion-margin, 16px)}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.ion-margin-horizontal{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}}.ion-float-left{float:left !important}.ion-float-right{float:right !important}.ion-float-start{float:left !important}[dir=rtl] .ion-float-start,:host-context([dir=rtl]) .ion-float-start{float:right !important}.ion-float-end{float:right !important}[dir=rtl] .ion-float-end,:host-context([dir=rtl]) .ion-float-end{float:left !important}@media (min-width: 576px){.ion-float-sm-left{float:left !important}.ion-float-sm-right{float:right !important}.ion-float-sm-start{float:left !important}[dir=rtl] .ion-float-sm-start,:host-context([dir=rtl]) .ion-float-sm-start{float:right !important}.ion-float-sm-end{float:right !important}[dir=rtl] .ion-float-sm-end,:host-context([dir=rtl]) .ion-float-sm-end{float:left !important}}@media (min-width: 768px){.ion-float-md-left{float:left !important}.ion-float-md-right{float:right !important}.ion-float-md-start{float:left !important}[dir=rtl] .ion-float-md-start,:host-context([dir=rtl]) .ion-float-md-start{float:right !important}.ion-float-md-end{float:right !important}[dir=rtl] .ion-float-md-end,:host-context([dir=rtl]) .ion-float-md-end{float:left !important}}@media (min-width: 992px){.ion-float-lg-left{float:left !important}.ion-float-lg-right{float:right !important}.ion-float-lg-start{float:left !important}[dir=rtl] .ion-float-lg-start,:host-context([dir=rtl]) .ion-float-lg-start{float:right !important}.ion-float-lg-end{float:right !important}[dir=rtl] .ion-float-lg-end,:host-context([dir=rtl]) .ion-float-lg-end{float:left !important}}@media (min-width: 1200px){.ion-float-xl-left{float:left !important}.ion-float-xl-right{float:right !important}.ion-float-xl-start{float:left !important}[dir=rtl] .ion-float-xl-start,:host-context([dir=rtl]) .ion-float-xl-start{float:right !important}.ion-float-xl-end{float:right !important}[dir=rtl] .ion-float-xl-end,:host-context([dir=rtl]) .ion-float-xl-end{float:left !important}}.ion-text-center{text-align:center !important}.ion-text-justify{text-align:justify !important}.ion-text-start{text-align:start !important}.ion-text-end{text-align:end !important}.ion-text-left{text-align:left !important}.ion-text-right{text-align:right !important}.ion-text-nowrap{white-space:nowrap !important}.ion-text-wrap{white-space:normal !important}@media (min-width: 576px){.ion-text-sm-center{text-align:center !important}.ion-text-sm-justify{text-align:justify !important}.ion-text-sm-start{text-align:start !important}.ion-text-sm-end{text-align:end !important}.ion-text-sm-left{text-align:left !important}.ion-text-sm-right{text-align:right !important}.ion-text-sm-nowrap{white-space:nowrap !important}.ion-text-sm-wrap{white-space:normal !important}}@media (min-width: 768px){.ion-text-md-center{text-align:center !important}.ion-text-md-justify{text-align:justify !important}.ion-text-md-start{text-align:start !important}.ion-text-md-end{text-align:end !important}.ion-text-md-left{text-align:left !important}.ion-text-md-right{text-align:right !important}.ion-text-md-nowrap{white-space:nowrap !important}.ion-text-md-wrap{white-space:normal !important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center !important}.ion-text-lg-justify{text-align:justify !important}.ion-text-lg-start{text-align:start !important}.ion-text-lg-end{text-align:end !important}.ion-text-lg-left{text-align:left !important}.ion-text-lg-right{text-align:right !important}.ion-text-lg-nowrap{white-space:nowrap !important}.ion-text-lg-wrap{white-space:normal !important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center !important}.ion-text-xl-justify{text-align:justify !important}.ion-text-xl-start{text-align:start !important}.ion-text-xl-end{text-align:end !important}.ion-text-xl-left{text-align:left !important}.ion-text-xl-right{text-align:right !important}.ion-text-xl-nowrap{white-space:nowrap !important}.ion-text-xl-wrap{white-space:normal !important}}.ion-text-uppercase{text-transform:uppercase !important}.ion-text-lowercase{text-transform:lowercase !important}.ion-text-capitalize{text-transform:capitalize !important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase !important}.ion-text-sm-lowercase{text-transform:lowercase !important}.ion-text-sm-capitalize{text-transform:capitalize !important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase !important}.ion-text-md-lowercase{text-transform:lowercase !important}.ion-text-md-capitalize{text-transform:capitalize !important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase !important}.ion-text-lg-lowercase{text-transform:lowercase !important}.ion-text-lg-capitalize{text-transform:capitalize !important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase !important}.ion-text-xl-lowercase{text-transform:lowercase !important}.ion-text-xl-capitalize{text-transform:capitalize !important}}.ion-align-self-start{align-self:flex-start !important}.ion-align-self-end{align-self:flex-end !important}.ion-align-self-center{align-self:center !important}.ion-align-self-stretch{align-self:stretch !important}.ion-align-self-baseline{align-self:baseline !important}.ion-align-self-auto{align-self:auto !important}.ion-wrap{flex-wrap:wrap !important}.ion-nowrap{flex-wrap:nowrap !important}.ion-wrap-reverse{flex-wrap:wrap-reverse !important}.ion-justify-content-start{justify-content:flex-start !important}.ion-justify-content-center{justify-content:center !important}.ion-justify-content-end{justify-content:flex-end !important}.ion-justify-content-around{justify-content:space-around !important}.ion-justify-content-between{justify-content:space-between !important}.ion-justify-content-evenly{justify-content:space-evenly !important}.ion-align-items-start{align-items:flex-start !important}.ion-align-items-center{align-items:center !important}.ion-align-items-end{align-items:flex-end !important}.ion-align-items-stretch{align-items:stretch !important}.ion-align-items-baseline{align-items:baseline !important}:root{--ion-color-primary:#2c65ff;--ion-color-primary-rgb:44, 101, 255;--ion-color-primary-contrast:#ffffff;--ion-color-primary-contrast-rgb:255, 255, 255;--ion-color-primary-tint:#2352d0;--ion-color-primary-shade:#5885ff;--ion-color-secondary:#7c2cff;--ion-color-secondary-rgb:124, 44, 255;--ion-color-secondary-contrast:#ffffff;--ion-color-secondary-contrast-rgb:255, 255, 255;--ion-color-secondary-shade:#690efd;--ion-color-secondary-tint:#8941ff;--ion-color-success:#12a37b;--ion-color-success-rgb:18, 163, 123;--ion-color-success-contrast:#ffffff;--ion-color-success-contrast-rgb:255, 255, 255;--ion-color-success-shade:#108f6c;--ion-color-success-tint:#2aac88;--ion-color-warning:#f2c94c;--ion-color-warning-rgb:242, 201, 76;--ion-color-warning-contrast:#000000;--ion-color-warning-contrast-rgb:0, 0, 0;--ion-color-warning-shade:#dcb745;--ion-color-warning-tint:#f3ce5e;--ion-color-danger:#d43333;--ion-color-danger-rgb:212, 51, 51;--ion-color-danger-contrast:#ffffff;--ion-color-danger-contrast-rgb:255, 255, 255;--ion-color-danger-shade:#c23030;--ion-color-danger-tint:#ff0000;--ion-color-dark:#232326;--ion-color-dark-rgb:35, 35, 38;--ion-color-dark-contrast:#ffffff;--ion-color-dark-contrast-rgb:255, 255, 255;--ion-color-dark-shade:#1f1f21;--ion-color-dark-tint:#39393c;--ion-color-medium:#575c6d;--ion-color-medium-rgb:87, 92, 109;--ion-color-medium-contrast:#ffffff;--ion-color-medium-contrast-rgb:255, 255, 255;--ion-color-medium-shade:#4d5160;--ion-color-medium-tint:#686c7c;--ion-color-light:#ffffff;--ion-color-light-rgb:255, 255, 255;--ion-color-light-contrast:#000000;--ion-color-light-contrast-rgb:0, 0, 0;--ion-color-light-shade:#e0e0e0;--ion-color-light-tint:#ffffff;--ion-background-color:#000000;--ion-background-color-rgb:35, 35, 38;--ion-text-color:#babfd1;--ion-text-color-rgb:186, 191, 209;--ion-color-step-50:#2b2b2f;--ion-color-step-100:#323337;--ion-color-step-150:#3a3a40;--ion-color-step-200:#414248;--ion-color-step-250:#494a51;--ion-color-step-300:#505259;--ion-color-step-350:#585a62;--ion-color-step-400:#5f616a;--ion-color-step-450:#676973;--ion-color-step-500:#6f717c;--ion-color-step-550:#767984;--ion-color-step-600:#7e818d;--ion-color-step-650:#858895;--ion-color-step-700:#8d909e;--ion-color-step-750:#9498a6;--ion-color-step-800:#9ca0af;--ion-color-step-850:#a3a8b7;--ion-color-step-900:#abafc0;--ion-color-step-950:#b2b7c8}html,body{width:100vw;height:100vh;overflow-y:hidden;font-size:16px}@font-face{font-family:Atlas;src:url(\"/assets/fonts//AtlasGrotesk-Light-Web.eot\");src:url(\"/assets/fonts//AtlasGrotesk-Light-Web.eot?#iefix\") format(\"embedded-opentype\"), url(\"/assets/fonts//AtlasGrotesk-Light-Web.woff2\") format(\"woff2\"), url(\"/assets/fonts//AtlasGrotesk-Light-Web.woff\") format(\"woff\");font-weight:300;font-style:normal;font-stretch:normal}@font-face{font-family:Atlas;src:url(\"/assets/fonts/AtlasGrotesk-Regular-Web.eot\");src:url(\"/assets/fonts/AtlasGrotesk-Regular-Web.eot?#iefix\") format(\"embedded-opentype\"), url(\"/assets/fonts/AtlasGrotesk-Regular-Web.woff2\") format(\"woff2\"), url(\"/assets/fonts/AtlasGrotesk-Regular-Web.woff\") format(\"woff\");font-weight:400;font-style:normal;font-stretch:normal}.theme--dark{background-color:#232326;color:#BABFD1}.theme--light{background-color:#BABFD1;color:#232326}:host{outline:none}.lf-keyboard--theme,.hg-theme-default,.hg-theme-default.hg-layout-numeric{background-color:transparent;font-family:Atlas, Helvetica, sans-serif;font-weight:400;font-style:normal;font-stretch:normal;color:#FFFFFF;font-size:1.6875rem;line-height:2rem;outline:none;animation:popIn 0.3s calc(4 * 120ms) both ease-in}.lf-keyboard--theme:focus,.lf-keyboard--theme:active,.lf-keyboard--theme:hover,.hg-theme-default:focus,.hg-theme-default:active,.hg-theme-default:hover,.hg-theme-default.hg-layout-numeric:focus,.hg-theme-default.hg-layout-numeric:active,.hg-theme-default.hg-layout-numeric:hover{outline:none}.lf-keyboard--theme .hg-row,.hg-theme-default .hg-row,.hg-theme-default.hg-layout-numeric .hg-row{display:flex}.lf-keyboard--theme .hg-row .hg-button:not(:last-child),.hg-theme-default .hg-row .hg-button:not(:last-child),.hg-theme-default.hg-layout-numeric .hg-row .hg-button:not(:last-child){margin-right:5px}.lf-keyboard--theme .hg-row>div:last-child,.hg-theme-default .hg-row>div:last-child,.hg-theme-default.hg-layout-numeric .hg-row>div:last-child{margin-right:0}.lf-keyboard--theme .hg-row:not(:last-child),.hg-theme-default .hg-row:not(:last-child),.hg-theme-default.hg-layout-numeric .hg-row:not(:last-child){margin-bottom:0.325rem}.lf-keyboard--theme .hg-button,.hg-theme-default .hg-button,.hg-theme-default.hg-layout-numeric .hg-button{box-sizing:border-box;width:5.3125rem;height:5rem;border-radius:0.3125rem;border:0.25rem solid transparent;background-color:#646464;box-shadow:0px 1px 0px rgba(0, 0, 0, 0.3);outline:none;cursor:pointer;display:flex;flex-grow:1;align-items:center;justify-content:center;padding:0.325rem}.lf-keyboard--theme .hg-button:focus,.lf-keyboard--theme .hg-button:active,.lf-keyboard--theme .hg-button:hover,.hg-theme-default .hg-button:focus,.hg-theme-default .hg-button:active,.hg-theme-default .hg-button:hover,.hg-theme-default.hg-layout-numeric .hg-button:focus,.hg-theme-default.hg-layout-numeric .hg-button:active,.hg-theme-default.hg-layout-numeric .hg-button:hover{outline:none}.lf-keyboard--theme .hg-button.lf-keyboard-key--short,.hg-theme-default .hg-button.lf-keyboard-key--short,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--short{height:3.75rem}.lf-keyboard--theme .hg-button.hg-activeButton,.hg-theme-default .hg-button.hg-activeButton,.hg-theme-default.hg-layout-numeric .hg-button.hg-activeButton{background-color:#3C3E47}.lf-keyboard--theme .hg-button:focus,.lf-keyboard--theme .hg-button:hover,.hg-theme-default .hg-button:focus,.hg-theme-default .hg-button:hover,.hg-theme-default.hg-layout-numeric .hg-button:focus,.hg-theme-default.hg-layout-numeric .hg-button:hover{outline:none;border-color:#2C65FF}.lf-keyboard--theme .hg-button.hg-button-space,.hg-theme-default .hg-button.hg-button-space,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-space{flex-grow:8}.lf-keyboard--theme .hg-button.hg-button-enter,.hg-theme-default .hg-button.hg-button-enter,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-enter{display:flex;justify-content:flex-end}.lf-keyboard--theme .hg-button.hg-button-enter span,.hg-theme-default .hg-button.hg-button-enter span,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-enter span{align-self:flex-end;justify-self:flex-end}.lf-keyboard--theme .hg-button.hg-button-enter,.hg-theme-default .hg-button.hg-button-enter,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-enter{flex-grow:3}.lf-keyboard--theme .hg-button.hg-button-numeric,.lf-keyboard--theme .hg-button.hg-button-alpha,.hg-theme-default .hg-button.hg-button-numeric,.hg-theme-default .hg-button.hg-button-alpha,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-numeric,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-alpha{display:flex;justify-content:flex-start}.lf-keyboard--theme .hg-button.hg-button-numeric span,.lf-keyboard--theme .hg-button.hg-button-alpha span,.hg-theme-default .hg-button.hg-button-numeric span,.hg-theme-default .hg-button.hg-button-alpha span,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-numeric span,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-alpha span{align-self:flex-end;justify-self:flex-start}.lf-keyboard--theme .hg-button.hg-button-bksp,.hg-theme-default .hg-button.hg-button-bksp,.hg-theme-default.hg-layout-numeric .hg-button.hg-button-bksp{font-size:1.25rem}.lf-keyboard--theme .hg-button.lf-keyboard-key--green,.hg-theme-default .hg-button.lf-keyboard-key--green,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--green{background-color:#15C595}.lf-keyboard--theme .hg-button.lf-keyboard-key--green:active,.lf-keyboard--theme .hg-button.lf-keyboard-key--green .active,.hg-theme-default .hg-button.lf-keyboard-key--green:active,.hg-theme-default .hg-button.lf-keyboard-key--green .active,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--green:active,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--green .active{background-color:#12A37B}.lf-keyboard--theme .hg-button.lf-keyboard-key--green.clean,.hg-theme-default .hg-button.lf-keyboard-key--green.clean,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--green.clean{background-color:#D43333}.lf-keyboard--theme .hg-button.lf-keyboard-key--dark,.hg-theme-default .hg-button.lf-keyboard-key--dark,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--dark{background-color:#3f3f3f}.lf-keyboard--theme .hg-button.lf-keyboard-key--dark:active,.lf-keyboard--theme .hg-button.lf-keyboard-key--dark .active,.hg-theme-default .hg-button.lf-keyboard-key--dark:active,.hg-theme-default .hg-button.lf-keyboard-key--dark .active,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--dark:active,.hg-theme-default.hg-layout-numeric .hg-button.lf-keyboard-key--dark .active{opacity:0.8}.lf-keyboard--theme .hg-button.hg-keyMarker,.hg-theme-default .hg-button.hg-keyMarker,.hg-theme-default.hg-layout-numeric .hg-button.hg-keyMarker{box-shadow:unset !important;border-color:#2C65FF}";

const LfKeyboard = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.virtualKeyboardKeyPressed = createEvent(this, "virtualKeyboardKeyPressed", 7);
    this.submitButtonPressed = createEvent(this, "submitButtonPressed", 7);
    this.blurLfKeyboard = createEvent(this, "blurLfKeyboard", 7);
    this.KeyboardLayoutConfig = {
      [LayoutName.Alpha]: [
        `1 2 3 4 5 6 7 8 9 0`,
        `q w e r t y u i o p`,
        `a s d f g h j k l`,
        `${KeyboardCharMap.AlphaShift} z x c v b n m ${KeyboardCharMap.Delete}`,
        `${KeyboardCharMap.Numeric} ${KeyboardCharMap.Space} ${KeyboardCharMap.Enter}`,
      ],
      [LayoutName.AlphaShift]: [
        `1 2 3 4 5 6 7 8 9 0`,
        `Q W E R T Y U I O P`,
        `A S D F G H J K L`,
        `${KeyboardCharMap.AlphaShift} Z X C V B N M ${KeyboardCharMap.Delete}`,
        `${KeyboardCharMap.Numeric} ${KeyboardCharMap.Space} ${KeyboardCharMap.Enter}`,
      ],
      [LayoutName.Numeric]: [
        `1 2 3 4 5 6 7 8 9 0`,
        `- / : ; ( ) $ & @ "`,
        `${KeyboardCharMap.NumericShift} . , ? ! ' ${KeyboardCharMap.Delete}`,
        `${KeyboardCharMap.Alpha} ${KeyboardCharMap.Space} ${KeyboardCharMap.Enter}`,
      ],
      [LayoutName.NumericShift]: [
        `[ ] { } # % ^ * + =`,
        `_ \\ | ~ < >    `,
        `${KeyboardCharMap.NumericShift} . , ? ! ' ${KeyboardCharMap.Delete}`,
        `${KeyboardCharMap.Alpha} ${KeyboardCharMap.Space} ${KeyboardCharMap.Enter}`,
      ],
    };
    this.KeyboardDisplayMap = {
      [`${KeyboardCharMap.Alpha}`]: "ABC",
      [`${KeyboardCharMap.AlphaShift}`]: "",
      [`${KeyboardCharMap.Numeric}`]: "123",
      [`${KeyboardCharMap.NumericShift}`]: "#+=",
      [`${KeyboardCharMap.Enter}`]: "OK",
      [`${KeyboardCharMap.Delete}`]: "delete",
      [`${KeyboardCharMap.Space}`]: " ",
    };
    this.ButtonTheme = [
      {
        class: "lf-keyboard-key--short",
        buttons: "1 2 3 4 5 6 7 8 9 0",
      },
      {
        class: "lf-keyboard-key--dark",
        buttons: `${KeyboardCharMap.Numeric} ${KeyboardCharMap.Delete} ${KeyboardCharMap.NumericShift} ${KeyboardCharMap.Alpha} ${KeyboardCharMap.AlphaShift}`,
      },
      {
        class: "lf-keyboard-key--green",
        buttons: `${KeyboardCharMap.Enter}`,
      },
    ];
    this.MarkerClassName = "hg-keyMarker";
    // ---- Protected -----------------------------------------------------------------------------
    // none
    // ==== HOST HTML REFERENCE ===================================================================
    // @Element() el: HTMLElement;
    // ==== State() VARIABLES SECTION =============================================================
    this.inputDirty = false;
    // ==== PUBLIC PROPERTY API - Prop() SECTION ==================================================
    this.keyNavigationEnabled = false;
    this.blurDirection = LfKeyboardBlurDirection.Null;
    this.wrapNavigation = false;
  }
  // ==== COMPONENT LIFECYCLE EVENTS ============================================================
  // - -  componentDidLoad Implementation - - - - - - - - - - - - - - - - - - - - -
  componentDidLoad() {
    // console.group("componentDidLoad");
    try {
      this.initKeyboard();
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  // ==== LISTENERS SECTION =====================================================================
  onKeydown(e) {
    // console.group("onKeydown--Keyboard");
    try {
      const activeElement = document.activeElement.tagName;
      if (activeElement === "LF-KEYBOARD") {
        this.handleKeyNavigation(e.key);
      }
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  // ==== PUBLIC METHODS API - @Method() SECTION ========================================================
  // @Method()
  // async publicMethod(): Promise<void> {return}
  // ==== LOCAL METHODS SECTION =========================================================================
  initKeyboard() {
    // console.group("initKeyboard");
    try {
      this.keyboard = new Keyboard({
        onKeyPress: button => this.onKeyboardPressHandler(button),
        layout: this.KeyboardLayoutConfig,
        layoutName: LayoutName.Alpha,
        display: this.KeyboardDisplayMap,
        theme: "lf-keyboard--theme",
        buttonTheme: this.ButtonTheme,
        useMouseEvents: true,
        enableKeyNavigation: true,
        modules: [keyNavigation],
      });
      // setting row to -1 to offset last marker position
      this.keyboard["modules"]["keyNavigation"].markerPosition = {
        row: -1,
        button: 0,
      };
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  onKeyboardPressHandler(buttonValue) {
    // console.group("onKeyboardPressHandler");
    try {
      const layoutUpdateBtnsTyped = [KeyboardCharMap.Alpha, KeyboardCharMap.AlphaShift, KeyboardCharMap.Numeric, KeyboardCharMap.NumericShift];
      const navigationKeys = [Key_enum.Key.ArrowUp, Key_enum.Key.ArrowDown, Key_enum.Key.ArrowLeft, Key_enum.Key.ArrowRight];
      const funcBtnsTyped = [KeyboardCharMap.Delete, KeyboardCharMap.Enter, ...layoutUpdateBtnsTyped];
      const currentLayout = this.keyboard.options.layoutName;
      const layoutBtnsArr = layoutUpdateBtnsTyped.map(buttonName => {
        return buttonName.toString();
      });
      const funcBtnsArr = funcBtnsTyped.map(buttonName => {
        return buttonName.toString();
      });
      const navigationKeysToString = navigationKeys.map(key => {
        return key.toString();
      });
      if (navigationKeysToString.includes(buttonValue)) {
        this.handleKeyNavigation(buttonValue);
      }
      else if (layoutBtnsArr.includes(buttonValue)) {
        this.updateKeyboardLayout(buttonValue);
      }
      else if (buttonValue === KeyboardCharMap.Enter) {
        const keyboardInputValue = this.keyboard.getInput();
        this.submitButtonPressed.emit(keyboardInputValue);
      }
      else {
        this.virtualKeyboardKeyPressed.emit(buttonValue);
      }
      // switch out of caps after the first keypress that isn't a function button
      if (currentLayout === LayoutName.AlphaShift && !funcBtnsArr.includes(buttonValue)) {
        this.keyboard.setOptions({
          layoutName: LayoutName.Alpha,
        });
      }
      this.updateMarkerPosition(buttonValue);
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  handleKeyNavigation(eventKey) {
    // console.group("handleKeyNavigation", eventKey);
    try {
      const navModule = this.keyboard["modules"]["keyNavigation"];
      const rowPos = navModule.lastMarkerPos[0];
      const btnPos = navModule.lastMarkerPos[1];
      const keyboardLayoutName = this.keyboard.options.layoutName;
      const rowCharsArr = this.KeyboardLayoutConfig[keyboardLayoutName][rowPos].split(" ");
      if (eventKey === Key_enum.Key.ArrowUp) {
        // TODO - better handling of going up from space bar and enter key
        // exiting keyboard - blur keyboard and update last marker position
        const topRow = !navModule.getButtonAt(rowPos - navModule.step, btnPos);
        if (topRow &&
          (this.blurDirection === LfKeyboardBlurDirection.Top || this.blurDirection === LfKeyboardBlurDirection.Both)) {
          navModule.markedBtn.classList.remove(this.MarkerClassName);
          navModule.markerPosition = {
            row: -1,
            button: btnPos,
          };
          this.blurLfKeyboard.emit();
        }
        else {
          navModule.up();
        }
      }
      else if (eventKey === Key_enum.Key.ArrowDown) {
        const btnInLastRow = !navModule.getButtonAt(rowPos - navModule.step, btnPos);
        const triggerKbBlur = btnInLastRow &&
          (this.blurDirection === LfKeyboardBlurDirection.Bottom ||
            this.blurDirection === LfKeyboardBlurDirection.Both);
        if (triggerKbBlur) {
          navModule.markedBtn.classList.remove(this.MarkerClassName);
          navModule.markerPosition = {
            row: rowPos + 1,
            button: btnPos,
          };
          this.blurLfKeyboard.emit();
        }
        navModule.down();
      }
      else if (eventKey === Key_enum.Key.ArrowLeft) {
        const btnInFirstRow = !navModule.getButtonAt(rowPos, btnPos - navModule.step);
        if (btnInFirstRow && this.wrapNavigation) {
          const lastBtnIndex = rowCharsArr.length - 1;
          navModule.setMarker(rowPos, lastBtnIndex);
        }
        else {
          navModule.left();
        }
      }
      else if (eventKey === Key_enum.Key.ArrowRight) {
        const btnIsRowLast = !navModule.getButtonAt(rowPos, btnPos + navModule.step);
        if (btnIsRowLast && this.wrapNavigation) {
          navModule.setMarker(rowPos, 0);
        }
        else {
          navModule.right();
        }
      }
      else {
        navModule.press();
      }
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  updateMarkerPosition(buttonValue) {
    // console.group("updateMarkerPosition");
    try {
      const layoutName = this.keyboard.options.layoutName;
      const layout = this.keyboard.options.layout[layoutName];
      for (const rowIndex in layout) {
        const row = layout[rowIndex];
        if (row.includes(buttonValue)) {
          const rowArr = row.split(" ");
          const buttonIndex = rowArr.indexOf(buttonValue);
          this.keyboard["modules"]["keyNavigation"].setMarker(Number(rowIndex), Number(buttonIndex));
          break;
        }
      }
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  updateKeyboardLayout(button) {
    // console.group("updateKeyboardLayout");
    try {
      const currentLayout = this.keyboard.options.layoutName;
      let updatedLayoutName = null;
      if (button === KeyboardCharMap.AlphaShift) {
        updatedLayoutName = currentLayout === LayoutName.AlphaShift ? LayoutName.Alpha : LayoutName.AlphaShift;
      }
      else if (button === KeyboardCharMap.Alpha) {
        updatedLayoutName = LayoutName.Alpha;
      }
      else if (button === KeyboardCharMap.Numeric) {
        updatedLayoutName = LayoutName.Numeric;
      }
      else if (button === KeyboardCharMap.NumericShift) {
        updatedLayoutName = currentLayout === LayoutName.NumericShift ? LayoutName.Numeric : LayoutName.NumericShift;
      }
      if (updatedLayoutName) {
        this.keyboard.setOptions({
          layoutName: updatedLayoutName,
        });
      }
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
  // ==== RENDERING SECTION =========================================================================
  // - -  render Implementation - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  render() {
    // console.group("render");
    try {
      return (h("div", { class: "keyboard--wrapper" }, h("div", { class: "simple-keyboard" })));
    }
    catch (e) {
      // console.error(e);
    }
    finally {
      // console.groupEnd();
    }
  }
};
LfKeyboard.style = lfKeyboardComponentCss;

export { LfKeyboard as lf_keyboard };
